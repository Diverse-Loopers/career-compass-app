<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diverse Loopers - Empowering Talents for Tomorrow</title>
    <meta name="description"
        content="Diverse Loopers offers a personalized Career Compass tool to help engineering students bridge the gap between their curriculum and their dream tech job.">
    <link rel="canonical" href="https://www.diverseloopers.com/" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root {
            --color-primary: #3b82f6;
            --color-secondary: #ec4899;
            --color-dark: #1e293b;
            --color-light: #f1f5f9;
            --color-text: #334155;
            --color-subtle: #64748b;
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #fff;
            color: var(--color-text);
            line-height: 1.7;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        section {
            padding: 6rem 0;
        }

        /* --- Animations --- */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* --- Header & Navbar --- */
        .header {
            background-color: rgba(255, 255, 255, 0.8);
            /* Start transparent */
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: background-color 0.4s ease, border-bottom 0.4s ease, backdrop-filter 0.4s ease;
        }

        .header.scrolled {
            background-color: rgba(255, 255, 255, 0.8);
            /* Semi-transparent white */
            backdrop-filter: blur(10px);
            /* This creates the frosted glass effect */
            border-bottom: 1px solid #e2e8f0;
        }


        .navbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
        }

        .logo img {
            height: 50px;
            width: 50px;
        }

        .logo-text {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--color-dark);
        }

        .nav-links,
        .nav-actions {
            display: none;
        }

        /* Hide on mobile by default */

        /* --- Mobile Menu Styles --- */
        .hamburger {
            cursor: pointer;
            width: 24px;
            height: 24px;
            transition: all 0.25s;
            position: relative;
        }

        .hamburger-top,
        .hamburger-middle,
        .hamburger-bottom {
            position: absolute;
            top: 0;
            left: 0;
            width: 24px;
            height: 3px;
            background: var(--color-dark);
            transform: rotate(0);
            transition: all 0.5s;
        }

        .hamburger-middle {
            transform: translateY(7px);
        }

        .hamburger-bottom {
            transform: translateY(14px);
        }

        .open .hamburger-top {
            transform: rotate(45deg) translateY(6px) translateX(6px);
        }

        .open .hamburger-middle {
            display: none;
        }

        .open .hamburger-bottom {
            transform: rotate(-45deg) translateY(6px) translateX(-6px);
        }

        .mobile-menu-inner {
            position: absolute;
            top: 85px;
            left: 0;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 2rem;
            box-shadow: var(--shadow-lg);
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            animation: slideDown 0.5s ease-out;
        }

        .mobile-link {
            color: var(--color-dark);
            font-size: 1.2rem;
            font-weight: 600;
            text-align: center;
            text-decoration: none;
        }

        .hidden {
            display: none !important;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #mobile-login-btn.login {
            border: 2px solid #e2e8f0;
            color: var(--color-subtle);
        }

        /* --- Desktop Navigation Styles --- */
        @media (min-width: 768px) {

            .hamburger,
            #mobile-menu {
                display: none;
            }

            /* Hide mobile elements on desktop */
            .nav-links {
                display: flex;
                align-items: center;
                gap: 2rem;
            }

            .nav-actions {
                display: flex;
                align-items: center;
                gap: 1rem;
            }

            .nav-links a {
                position: relative;
                text-decoration: none;
                color: var(--color-subtle);
                font-weight: 600;
                padding: 8px 16px;
                border-radius: 50px;
                transition: color 0.3s, background-color 0.3s;
            }

            .nav-links a:hover {
                color: var(--color-primary);
                background-color: var(--color-light);
            }

            .nav-links a::after {
                content: '';
                position: absolute;
                width: 0;
                height: 2px;
                bottom: -4px;
                left: 50%;
                transform: translateX(-50%);
                background-color: var(--color-primary);
                transition: width 0.3s ease-out;
            }

            .nav-links a:hover::after {
                width: 60%;
            }
        }


        .persona-switcher {
            padding-top: 1rem;
            border-top: 1px solid #e2e8f0;
            margin-top: 1rem;
            display: flex;
            gap: 1.5rem;


        }

        .persona-switcher a {
            color: var(--color-subtle);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            padding-bottom: 0.25rem;
            border-bottom: 2px solid transparent;
            transition: color 0.3s, border-color 0.3s;
        }

        .persona-switcher a:hover {
            color: var(--color-dark);
        }

        .persona-switcher a.active {
            color: var(--color-primary);
            font-weight: 600;
            border-bottom-color: var(--color-primary);
        }



        /* Hide switcher on mobile for a cleaner look */
        @media (max-width: 767px) {
            .persona-switcher {
                display: none;
            }
        }

        .btn {
            display: inline-block;
            padding: 0.6rem 1.2rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-secondary {
            border: 2px solid #e2e8f0;
            color: var(--color-subtle);
        }

        .btn-secondary:hover {
            border-color: var(--color-primary);
            color: var(--color-primary);
        }

        .btn-primary {
            text-align: center;
            background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
            color: #fff;
            border: 2px solid transparent;
            box-shadow: var(--shadow-md);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        /* Professional footer logout styling */
        .footer-user-section {
            margin: 2rem 0;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .user-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--color-primary), var(--color-secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .user-details h4 {
            margin: 0;
            color: #fff;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .user-details p {
            margin: 0;
            color: var(--color-subtle);
            font-size: 0.9rem;
        }

        .logout-btn-footer {
            width: 100%;
            padding: 0.75rem 1.5rem;
            background: transparent;
            border: 2px solid rgba(239, 68, 68, 0.7);
            color: #ef4444;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
        }

        .logout-btn-footer:hover {
            background: #ef4444;
            color: white;
            border-color: #ef4444;
            transform: translateY(-1px);
        }

        @media (max-width: 768px) {
            .user-info {
                flex-direction: column;
                text-align: center;
            }
        }

        /* ... All other styles for Hero, About, Contact, Footer, etc. remain the same ... */
        #hero {
            position: relative;
            text-align: center;
            padding: 8rem 0;
            background-color: #0a0a2a;
            color: #fff;
        }

        #hero-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        #hero h1 {
            font-size: clamp(3rem, 6vw, 5rem);
            font-weight: 800;
            line-height: 1.1;
            background: linear-gradient(90deg, #fff, #c7d2fe);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1.5rem;
        }

        #hero .tagline {
            font-size: 1.25rem;
            color: #e2e8f0;
            margin: 0 auto 2.5rem;
            max-width: 700px;
        }

        .about-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 4rem;
            align-items: center;
        }

        @media (min-width: 992px) {
            .about-grid {
                grid-template-columns: 1fr 1fr;
            }
        }

        .about-image {
            background: url('team.jpg') no-repeat center center/cover;
            border-radius: 1rem;
            min-height: 400px;
            box-shadow: var(--shadow-lg);
        }

        .section-header {
            text-align: left;
            margin-bottom: 1.5rem;
        }

        .section-header h2 {
            font-size: 2.8rem;
            font-weight: 700;
            color: var(--color-dark);
        }

        .section-header p {
            font-size: 1.1rem;
            color: var(--color-subtle);
        }

        #contact {
            background-color: #e2e8f0;
            /* A slightly darker grey/blue for contrast */
            color: var(--color-text);
            padding: 6rem 0;
        }

        .contact-form {
            max-width: 700px;
            margin: 0 auto;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }

        @media (min-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr 1fr;
            }
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-group label {
            font-weight: 500;
            margin-bottom: 0.5rem;
            display: block;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #cbd5e1;
            border-radius: 0.375rem;
            font-size: 1rem;
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 120px;
        }

        .footer {
            background-color: var(--color-dark);
            color: var(--color-light);
            padding: 4rem 0;
            text-align: center;
        }

        .footer .logo {
            justify-content: center;
        }

        .footer .logo-text {
            color: #fff;
        }

        .footer .tagline {
            margin: 1rem 0 2rem;
            color: var(--color-subtle);
        }

        .footer-links {
            margin-bottom: 2rem;
            display: flex;
            justify-content: center;
            gap: 2rem;
        }

        .footer-links a {
            color: var(--color-light);
            text-decoration: none;
            font-weight: 500;
        }

        .footer-links a:hover {
            text-decoration: underline;
        }

        .contact-details p {
            margin-bottom: 0.5rem;
        }

        .contact-details a {
            color: #fff;
            text-decoration: none;
        }

        .contact-details a:hover {
            text-decoration: underline;
        }

        .copyright {
            margin-top: 3rem;
            font-size: 0.9rem;
            color: var(--color-subtle);
        }

        .programs-grid {
            display: grid;
            grid-template-columns: 1fr;
            /* 1 column on mobile */
            gap: 2rem;
        }

        /* Card styling for "Why Choose Us" items */
        .feature-card {
            background-color: #fff;
            border-radius: 12px;
            padding: 2rem 1.5rem;
            text-align: center;
            border: 1px solid #e2e8f0;
            transition: transform 0.3s, box-shadow 0.3s, border-color 0.3s;
            /* Added border-color */
            box-shadow: var(--shadow-md);
            /* Add initial shadow */
        }

        .feature-card:hover {
            transform: translateY(-8px);
            /* More pronounced lift */
            box-shadow: var(--shadow-lg);
            /* Stronger shadow on hover */
            border-color: var(--color-primary);
            /* Highlight border */
        }

        .feature-icon {
            margin: 0 auto 1.5rem;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .feature-card h3 {
            margin-bottom: 0.5rem;
            color: var(--color-dark);
        }

        .feature-card p {
            color: var(--color-subtle);
            line-height: 1.6;
        }

        /* Card styling for the main program cards */
        .program-card {
            background-color: #fff;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
            padding: 2.5rem;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .program-card:hover {
            transform: translateY(-8px);
            /* More pronounced lift */
            box-shadow: var(--shadow-lg);
            border-left: 5px solid var(--color-primary);
        }

        .program-header {
            margin-bottom: 1rem;
        }

        .program-header h3 {
            color: var(--color-dark);
        }

        .program-tag {
            display: inline-block;
            background-color: var(--color-light);
            color: var(--color-primary);
            font-weight: 600;
            font-size: 0.8rem;
            padding: 0.25rem 0.75rem;
            border-radius: 50px;
            margin-top: 0.5rem;
        }

        .program-features {
            list-style: none;
            margin-top: 1.5rem;
            padding-left: 0;
            color: var(--color-subtle);
        }

        .program-features li {
            padding-left: 1.75rem;
            position: relative;
            margin-bottom: 0.75rem;
        }

        /* Custom checkmark for list items */
        .program-features li::before {
            content: '✔';
            position: absolute;
            left: 0;
            top: 2px;
            color: var(--color-primary);
            font-weight: 600;
        }

        /* Grid and cards for "Extra Features" */
        .extra-features-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
            justify-items: center;
            /* Center items on the grid axis */
        }



        /* Responsive adjustments for larger screens */
        @media (min-width: 768px) {
            .features-grid {
                grid-template-columns: repeat(2, 1fr);
                /* 2 columns on tablets */
            }

            .programs-grid {
                grid-template-columns: repeat(2, 1fr);
                /* 2 columns on tablets */
            }

            .extra-features-grid {
                grid-template-columns: repeat(3, 1fr);
                /* 3 columns on tablets */
            }
        }

        @media (min-width: 992px) {
            .features-grid {
                grid-template-columns: repeat(4, 1fr);
                /* 4 columns on desktops */
            }
        }

        @keyframes rotate {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        .courses-cta-btn {
            /* Positioning and Layout */
            position: relative;
            z-index: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            margin: 3rem auto 4rem;
            /* Adjusts spacing around the button */
            width: fit-content;

            /* Appearance */
            background-color: #fff;
            color: var(--color-dark);
            border-radius: 50px;
            /* Fully rounded pill shape */
            padding: 0.8rem 1.75rem;
            font-size: 1rem;
            font-weight: 600;
            text-decoration: none;
            overflow: hidden;
            /* Important for the border effect */

            /* Effects */
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        /* The Animated Gradient Border */
        .courses-cta-btn::before {
            content: '';
            position: absolute;
            z-index: -1;
            top: -2px;
            left: -2px;
            width: calc(100% + 4px);
            height: calc(100% + 4px);

            /* Using a conic-gradient for a smooth spin */
            background: conic-gradient(from 0deg,
                    var(--color-primary),
                    var(--color-secondary),
                    var(--color-primary));

            border-radius: inherit;
            /* Matches the button's border-radius */
            animation: rotate 4s linear infinite;
        }

        /* Hover State */
        .courses-cta-btn:hover {
            transform: translateY(-3px);
            color: #fff;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }

        /* Gradient background appears on hover */
        .courses-cta-btn:hover::after {
            content: '';
            position: absolute;
            z-index: -1;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
            border-radius: inherit;
        }

        /* The arrow icon inside the button */
        .courses-cta-btn .arrow-icon {
            transition: transform 0.3s ease;
        }

        /* Arrow moves to the right on hover */
        .courses-cta-btn:hover .arrow-icon {
            transform: translateX(5px);
        }

        #programs {
            background-color: #f0f4f8;
            /* A light, soft grey/blue */
            padding: 6rem 0;
            border-top: 1px solid #e2e8f0;
        }

        /* Background for "Why Students Choose Us" section (ID: programs, but target the first child) */
        /* We'll apply this to the first child div of #programs to avoid affecting the whole background */
        #programs>div.container>div:first-child:has(h2:contains("Why Students Choose Us")) {
            position: relative;
            background-color: #fff;
            /* White background for the content area */
            padding: 4rem 2rem;
            /* Add padding to contain content */
            border-radius: 15px;
            /* Slightly rounded corners for the content area */
            box-shadow: var(--shadow-lg);
            /* Add shadow to make it pop */
            margin-bottom: 4rem;
            /* Space below this content area */
            overflow: hidden;
            /* Hide overflow of the pattern */
            z-index: 1;
            /* Ensure content is above background pattern */
        }

        /* Abstract background pattern using pseudo-elements */
        #programs>div.container>div:first-child:has(h2:contains("Why Students Choose Us"))::before {
            content: '';
            position: absolute;
            top: -50px;
            left: -50px;
            right: -50px;
            bottom: -50px;
            background-image: radial-gradient(circle, #e0f2fe 1px, transparent 1px);
            background-size: 40px 40px;
            opacity: 0.3;
            z-index: -1;
            animation: backgroundPan 30s linear infinite;
            /* Subtle animation */
        }

        @keyframes backgroundPan {
            from {
                background-position: 0 0;
            }

            to {
                background-position: 400px 400px;
                /* Pan pattern across */
            }
        }

        /* Adjustments for the section-header within this specific visual block */
        #programs>div.container>div:first-child:has(h2:contains("Why Students Choose Us")) .section-header {
            margin-bottom: 2rem !important;
            /* Adjust margin inside the visual block */
            position: relative;
            z-index: 2;
            /* Ensure text is above the pattern */
        }

        /* Ensure the features grid also has z-index to be above the pattern */
        #programs>div.container>div:first-child:has(h2:contains("Why Students Choose Us")) .features-grid {
            position: relative;
            z-index: 2;
        }

        /* From Uiverse.io by joe-watson-sbf - MODIFIED */
        .flip-card {
            background-color: transparent;
            width: 21rem;
            /* Matched to the inner card width */
            height: 254px;
            perspective: 1000px;
            font-family: sans-serif;
        }

        .title {
            font-size: 1.5em;
            font-weight: 900;
            text-align: center;
            margin: 0;
        }

        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }

        .flip-card:hover .flip-card-inner {
            transform: rotateY(180deg);
            transform-origin: 50% 50%;
        }

        .flip-card-front,
        .flip-card-back {
            box-shadow: 0 8px 14px 0 rgba(0, 0, 0, 0.2);
            position: absolute;
            display: flex;
            flex-direction: column;
            justify-content: center;
            width: 100%;
            /* Changed from 21rem to 100% */
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border: 1px solid coral;
            border-radius: 1rem;
        }

        .flip-card-front {
            background: linear-gradient(120deg, bisque 60%, rgb(255, 231, 222) 88%,
                    rgb(255, 211, 195) 40%, rgba(255, 127, 80, 0.603) 48%);
            color: coral;
        }

        .flip-card-back {
            background: linear-gradient(120deg, rgb(255, 174, 145) 30%, coral 88%,
                    bisque 40%, rgb(255, 185, 160) 78%);
            color: white;
            transform: rotateY(180deg);
        }

        /* --- NEW: Events Section Styles --- */
        #events {
            background-color: #ffffff;
            padding: 6rem 0;
        }

        /* --- NEW CAROUSEL STYLES (ADD THIS TO YOUR <style> BLOCK) --- */

        /* Wrapper for buttons and scroll area */
        .carousel-wrapper {
            position: relative;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* The actual scrolling container */
        .events-grid-container {
            overflow-x: hidden;
            overflow-y: hidden;
            /* <--- NEW: Explicitly prevents vertical scrollbar */
            scroll-behavior: smooth;
            padding: 0 1.5rem;
        }

        /* The horizontal tracks that holds all cards */
        /* The horizontal tracks that holds all cards */
        .events-grid {
            --gap: 2rem;
            --card-count: 3;
            display: grid;
            /* Forces the layout to fit 3 items per view exactly. The JS sets --total-events. */
            grid-template-columns: repeat(var(--total-events, 4), minmax(calc((100% / var(--card-count)) - var(--gap) * (var(--card-count) - 1) / var(--card-count)), 1fr));
            grid-auto-flow: column;
            gap: var(--gap);
            width: fit-content;
            padding-bottom: 1.5rem;
        }

        /* Style for individual cards (ensures they match grid sizing) */
        .event-card {
            /* Base styles */
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.05);
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            border: 1px solid #e2e8f0;

            /* FIX 1: Ensures card uses its full vertical space and grows naturally */
            display: flex;
            flex-direction: column;
            width: 100%;
            height: auto;
            min-height: 100%;
        }

        /* Scroll buttons (control layout and state) */
        .scroll-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.9);
            border: 1px solid var(--color-primary);
            border-radius: 50%;
            box-shadow: var(--shadow-md);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 0.3s, background-color 0.3s;
            color: var(--color-primary);
            opacity: 1;
        }

        .scroll-btn:hover {
            background-color: var(--color-primary);
            color: white;
        }

        #scroll-left-btn {
            left: 0.5rem;
            padding-right: 0.25rem;
        }

        #scroll-right-btn {
            right: 0.5rem;
            padding-left: 0.25rem;
        }

        .scroll-btn.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .event-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .event-media {
            width: 100%;
            height: 200px;
            background-color: var(--color-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .event-media img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .event-content {
            padding: 1.5rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .event-content h3 {
            font-size: 1.5rem;
            color: var(--color-dark);
            margin-bottom: 0.5rem;
        }

        .event-date {
            font-size: 0.9rem;
            color: var(--color-primary);
            font-weight: 600;
            margin-bottom: 1rem;
            display: block;
        }

        .event-content p {
            color: var(--color-subtle);
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .event-join-btn {
            display: block;
            width: 100%;
            text-align: center;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s;
        }

        /* --- FIX: Mobile Event Layout Override --- */
        @media (max-width: 767px) {

            /* 1. Ensure the container takes up its full horizontal space */
            .events-grid-container {
                padding: 0 0;
                /* Remove inner padding to use full width */
                overflow-x: scroll;
                /* Allow horizontal scrolling on mobile */
            }

            /* 2. Redefine the main grid for mobile */
            .events-grid {
                --gap: 1rem;
                /* Smaller gap on mobile */
                --card-count: 1;
                /* Only show 1 card in the viewport */
                /* Use a custom calculation for 1 item view (100% - gap) */
                grid-template-columns: repeat(var(--total-events, 2), calc(100% - var(--gap) * 2));
                padding: 0 1rem 1.5rem;
                /* Add side padding for a peeking effect */
                scroll-snap-type: x mandatory;
                /* Optional: Snap to cards on scroll */
            }

            /* 3. Ensure cards scroll-snap correctly and take full width minus padding */
            .event-card {
                scroll-snap-align: start;
                min-width: 100%;
                /* Ensure card takes the full calculated width of its grid column */
                margin-left: 0.5rem;
                /* Pushes the card inward to allow the left snap-padding */
            }

            /* 4. Hide scroll buttons on mobile, as users will swipe */
            .scroll-btn {
                display: none !important;
            }

            /* 5. Center the section header text on mobile container */
            #events .container {
                padding: 0;
            }

            #events .container .section-header {
                padding: 0 1.5rem;
            }
        }

        /* FIX 2: General grid cleanup (Make sure this exists in your general .events-grid style) */
        .events-grid {
            /* ... existing styles ... */
            padding-bottom: 1.5rem;
            /* Ensure no wrapping happens. This forces the scroll. */
            grid-auto-flow: column;
        }
    </style>
</head>

<body>


    <header class="header">
        <div class="container">
            <nav class="navbar">
                <a href="index.html" class="logo">
                    <img src="logo2.png" alt="Diverse Loopers Logo">
                    <span class="logo-text">Diverse Loopers</span>
                </a>

                <!-- Desktop Menu -->
                <div class="nav-links">
                    <a href="#about">About Us</a>

                    <a href="#contact">Contact Us</a>

                    <a href="#events">Events</a>

                </div>
                <div class="nav-actions">
                    <!-- Login button - shown when user is logged out -->
                    <a href="login.html" id="login-btn" class="btn btn-secondary hidden">Login</a>

                    <!-- Profile button - shown when user is logged in -->
                    <a href="profile.html" id="profile-btn" class="btn btn-secondary hidden">Profile</a>

                    <a href="analyzer.html" class="btn btn-primary">Path Analyzer</a>
                </div>

                <!-- Mobile Menu Button (Hamburger) -->
                <button id="menu-btn" class="hamburger">
                    <span class="hamburger-top"></span>
                    <span class="hamburger-middle"></span>
                    <span class="hamburger-bottom"></span>
                </button>
            </nav>
            <div class="persona-switcher">
                <a href="index.html" class="persona-link active" data-persona="students">For Students</a>
                <a href="home_uni.html" class="persona-link" data-persona="universities">For Universities</a>
                <a href="home_bus.html" class="persona-link" data-persona="businesses">For Businesses</a>
            </div>

            <!-- Mobile Menu Panel -->
            <div id="mobile-menu" class="hidden">
                <div class="mobile-menu-inner">
                    <a href="#about" class="mobile-link">About Us</a>
                    <a href="#contact" class="mobile-link">Contact Us</a>
                    <a href="#events" class="mobile-link">Events</a>
                    

                    <a href="home_bus.html" class="mobile-link">For Businesses</a>
                    <a href="home_uni.html" class="mobile-link">For Universities</a>

                    <!-- Mobile login button -->
                    <a href="login.html" class="mobile-link hidden" id="mobile-login-btn">Login</a>
                    <!-- Mobile profile button -->
                    <a href="profile.html" class="mobile-link hidden" id="mobile-profile-btn">Profile</a>
                    <a href="analyzer.html" class="btn btn-primary w-full text-center mt-4">Path Analyzer</a>
                </div>
            </div>
        </div>
    </header>
    </div>

    <main>
        <section id="hero">
            <canvas id="hero-canvas"></canvas>
            <div class="hero-content container">
                <h1 id="hero-title">Empowering talents for tomorrow.....</h1>
                <p class="tagline" id="hero-tagline">Stop guessing, start planning. Our Career Compass tool provides a
                    personalized,
                    data-driven roadmap to bridge the gap between your college curriculum and your dream tech job.</p>
                <a href="analyzer.html" class="btn btn-primary" id="hero-cta"
                    style="padding: 1rem 2.5rem; font-size: 1.1rem;">Get
                    Started</a>
            </div>
        </section>

        <section id="about">
            <div class="container about-grid">
                <div class="about-text fade-in">
                    <div class="section-header">
                        <h2>Empowering Talents for Tomorrow.</h2>
                        <p>Our Mission</p>
                    </div>
                    <p>At Diverse Loopers, we believe every student deserves a clear path to their dream career. The
                        tech industry is vast and complex, and university curriculums can't always keep up with its
                        rapid evolution. Our Career Compass was born from a simple idea: to provide students with the
                        clarity and confidence they need to navigate their educational journey and enter the workforce
                        with the right skills.</p>
                    <br>
                    <p>We analyze thousands of job descriptions and compare them against standard engineering syllabi to
                        give you a personalized, actionable roadmap. We're here to turn your ambition into achievement.
                    </p>
                </div>
                <div class="about-image fade-in"></div>
            </div>
        </section>

        <section id="programs">
            <div class="container">
                <div class="section-header" style="text-align: center; margin-bottom: 4rem;">
                    <h2 style="color: var(--color-dark);">Why Students Choose Us</h2>
                    <p style="font-size: 1.1rem; color: var(--color-subtle);">Your Launchpad for a Career in Tech</p>
                </div>

                <div class="features-grid">
                    <div class="feature-card fade-in">
                        <div class="feature-icon" style="background-color: #dbeafe;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="#3b82f6" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M10 20H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6" />
                                <path d="m14 4 6 6-6 6" />
                                <path d="M4 12h16" />
                            </svg>
                        </div>
                        <h3>Practical Learning</h3>
                        <p>Go beyond theory and gain experience with projects sourced directly from companies.</p>
                    </div>
                    <div class="feature-card fade-in">
                        <div class="feature-icon" style="background-color: #e0e7ff;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="#6366f1" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <rect width="20" height="14" x="2" y="7" rx="2" ry="2" />
                                <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" />
                            </svg>
                        </div>
                        <h3>Career Focused</h3>
                        <p>Whether you’re in your 1st year or final year, we have tailored programs to fit your journey.
                        </p>
                    </div>
                    <div class="feature-card fade-in">
                        <div class="feature-icon" style="background-color: #fae8ff;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="#a855f7" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
                                <path d="m9 12 2 2 4-4" />
                            </svg>
                        </div>
                        <h3>Guaranteed Opportunities</h3>
                        <p>Access internships, placements, and projects that build your portfolio.</p>
                    </div>
                    <div class="feature-card fade-in">
                        <div class="feature-icon" style="background-color: #ffedd5;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="#f97316" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
                                <circle cx="9" cy="7" r="4" />
                                <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
                                <path d="M16 3.13a4 4 0 0 1 0 7.75" />
                            </svg>
                        </div>
                        <h3>Community Support</h3>
                        <p>Be part of a growing ecosystem of learners, mentors, and employers.</p>
                    </div>
                </div>

                <hr style="margin: 6rem auto; border: 0; height: 1px; background-color: #e2e8f0; max-width: 400px;">

                <div class="section-header" style="text-align: center; margin-bottom: 4rem;">
                    <h2 style="color: var(--color-dark);">Our Programs for Students</h2>
                </div>

                <div class="programs-grid">
                    <div class="program-card fade-in">
                        <div class="program-header">
                            <h3>Vision Builders Program (12-Month)</h3>
                            <span class="program-tag">For Early-Year Students</span>
                        </div>
                        <p>Learn at your pace with flexible sessions, hands-on projects, and a supportive community.</p>
                        <ul class="program-features">
                            <li>Basics of coding, AI, web development, and digital skills.</li>
                            <li>Guided mentorship from industry professionals.</li>
                            <li>Portfolio-building mini-projects.</li>
                            <li>Networking opportunities with peers and companies.</li>
                        </ul>
                    </div>
                    <div class="program-card fade-in">
                        <div class="program-header">
                            <h3>Accelerate Program (6-Month)</h3>
                            <span class="program-tag">For Final-Year & Graduates</span>
                        </div>
                        <p>For final-year students & graduates who want to become job-ready quickly.</p>
                        <ul class="program-features">
                            <li>Intensive hands-on training in in-demand tech skills.</li>
                            <li>Work on live projects with partner companies.</li>
                            <li>Get interview prep, mock tests, and career counseling.</li>
                            <li>Direct access to internships and placement support.</li>
                        </ul>
                    </div>
                </div>
                <div>
                    <a href="courses.html" class="courses-cta-btn">
                        Explore Our Courses
                        <svg class="arrow-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14" />
                            <path d="m12 5 7 7-7 7" />
                        </svg>
                    </a>
                </div>



                <hr style="margin: 6rem auto; border: 0; height: 1px; background-color: #e2e8f0; max-width: 400px;">

                <div class="section-header" style="text-align: center; margin-bottom: 4rem;">
                    <h2 style="color: var(--color-dark);">Extra Features</h2>
                </div>

                <div class="extra-features-grid">
                    <div class="flip-card">
                        <div class="flip-card-inner">
                            <div class="flip-card-front">
                                <p class="title">Wall of Fame</p>

                            </div>
                            <div class="flip-card-back">
                                <p class="title">Showcase your achievements and get recognized by the community and
                                    employers.</p>

                            </div>
                        </div>
                    </div>
                    <div class="flip-card">
                        <div class="flip-card-inner">
                            <div class="flip-card-front">
                                <p class="title">Portfolio Builder</p>

                            </div>
                            <div class="flip-card-back">
                                <p class="title">Create a professional portfolio that speaks louder than your resume.
                                </p>

                            </div>
                        </div>
                    </div>
                    <div class="flip-card">
                        <div class="flip-card-inner">
                            <div class="flip-card-front">
                                <p class="title">Mentorship Hub</p>

                            </div>
                            <div class="flip-card-back">
                                <p class="title">Get guidance from industry experts who care about your success.</p>

                            </div>
                        </div>
                    </div>



                </div>
            </div>
        </section>
        <!-- NEW SECTION ADDED HERE -->
        <section id="events">
            <div class="container">
                <div class="section-header" style="text-align: center; margin-bottom: 4rem;">
                    <h2 style="color: var(--color-dark);">Join & Participate in Our Events</h2>
                    <p style="font-size: 1.1rem; color: var(--color-subtle);">Connect, learn, and grow with the Diverse
                        Loopers community.</p>
                </div>

                <div class="carousel-wrapper">

                    <!-- Scroll Buttons -->
                    <button id="scroll-left-btn" class="scroll-btn hidden" aria-label="Scroll left">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="m15 18-6-6 6-6" />
                        </svg>
                    </button>
                    <button id="scroll-right-btn" class="scroll-btn" aria-label="Scroll right">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="m9 18 6-6-6-6" />
                        </svg>
                    </button>

                    <!-- Scrolling Container -->
                    <div id="events-grid-container" class="events-grid-container">
                        <div id="events-grid" class="events-grid">
                            <!-- Placeholder filled by JavaScript -->
                            <div style="grid-column: 1 / -1; text-align: center; color: #6b7280; padding: 2rem;">Loading
                                events from database...</div>
                        </div>
                    </div>

                </div>
            </div>
        </section>
        <section id="contact">
            <div class="container">
                <div class="section-header" style="text-align: center;">
                    <h2>Get In Touch</h2>
                    <p>Have questions or want to partner with us? We'd love to hear from you.</p>
                </div>
                <form class="contact-form fade-in">
                    <div class="form-grid">
                        <div class="form-group"><label for="name">Full Name</label><input type="text" id="name"
                                required></div>
                        <div class="form-group"><label for="email">Email Address</label><input type="email" id="email"
                                required></div>
                        <div class="form-group full-width"><label for="message">Message</label><textarea id="message"
                                required></textarea></div>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 2rem;">Send
                        Message</button>
                </form>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <a href="index.html" class="logo"><img src="logo2.png" alt="Diverse Loopers Logo"><span
                    class="logo-text">Diverse Loopers</span></a>
            <p class="tagline">Empowering talents for tomorrow</p>

            <!-- User section - only visible when logged in -->
            <div class="footer-user-section hidden" id="footer-user-section">
                <div class="user-info">
                    <div class="user-avatar" id="user-avatar">U</div>
                    <div class="user-details">
                        <h4 id="user-name">Welcome back!</h4>
                        <p id="user-email">user@example.com</p>
                    </div>
                </div>
                <button class="logout-btn-footer" id="logout-btn">
                    <span>Sign Out</span>
                </button>
            </div>

            <div class="footer-links">
                <a href="#about">About Us</a>
                <a href="#contact">Contact Us</a>
                <a href="analyzer.html">Path Analyzer</a>
            </div>
            <div class="contact-details">
                <p>Email: <a href="mailto:contact@diverseloopers.com">contact@diverseloopers.com</a></p>
                <p>Phone: <a href="tel:+9839350961">+91 98393 50961</a></p>
            </div>
            <p class="copyright">&copy; 2024 Diverse Loopers. All Rights Reserved.</p>
        </div>
    </footer>

    <script>


        // --- CAROUSEL CONTROL ELEMENTS ---
        const scrollContainer = document.getElementById('events-grid-container');
        const scrollGrid = document.getElementById('events-grid');
        const scrollLeftBtn = document.getElementById('scroll-left-btn');
        const scrollRightBtn = document.getElementById('scroll-right-btn');
        const CARD_SCROLL_COUNT = 3; // Number of cards to move per click

        // --- CAROUSEL CONTROL FUNCTIONS ---

        function updateScrollButtons() {
            if (!scrollContainer || !scrollLeftBtn || !scrollRightBtn) return;

            // Hide left button if scrolled fully left
            scrollLeftBtn.classList.toggle('hidden', scrollContainer.scrollLeft === 0);

            // Hide right button if scrolled fully right
            const maxScroll = scrollContainer.scrollWidth - scrollContainer.clientWidth;
            // Use a small tolerance (1px) because of floating point inaccuracies
            scrollRightBtn.classList.toggle('hidden', scrollContainer.scrollLeft >= maxScroll - 1);
        }

        function scrollEvents(direction) {
            if (!scrollGrid || !scrollContainer) return;

            // Get the computed style of the grid (to read the gap size)
            const gridStyle = window.getComputedStyle(scrollGrid);
            // Read the actual gap value defined in CSS (default to 2rem = 32px)
            const gap = parseFloat(gridStyle.getPropertyValue('gap') || '32');

            // Calculate the width of one card (container width / number of visible cards)
            const cardWidth = scrollContainer.clientWidth / CARD_SCROLL_COUNT;

            // The scroll distance is the width of the cards plus the space (gap) between them
            const scrollDistance = (cardWidth + (gap / CARD_SCROLL_COUNT)) * CARD_SCROLL_COUNT;

            // Perform the scroll
            scrollContainer.scrollBy({
                left: direction * scrollDistance,
                behavior: 'smooth'
            });

            // Wait for the scroll animation to finish before updating buttons
            setTimeout(updateScrollButtons, 500);
        }

        // Add listeners for the new buttons (Check if elements exist before adding listeners)
        if (scrollRightBtn) scrollRightBtn.addEventListener('click', () => scrollEvents(1));
        if (scrollLeftBtn) scrollLeftBtn.addEventListener('click', () => scrollEvents(-1));
        if (scrollContainer) scrollContainer.addEventListener('scroll', updateScrollButtons);


        // --- Supabase Session Management ---
        const SUPABASE_URL = 'https://tjqsmkaiajdpotmafqvw.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRqcXNta2FpYWpkcG90bWFmcXZ3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5ODA3NDIsImV4cCI6MjA3MTU1Njc0Mn0.9710q9W5EFfCagj340AizUSKiOXYApy0xkTFszFjO8o';

        const { createClient } = supabase;
        const _supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        // Get all the button elements
        const loginBtn = document.getElementById('login-btn');
        const profileBtn = document.getElementById('profile-btn');
        const logoutBtn = document.getElementById('logout-btn');
        const mobileLoginBtn = document.getElementById('mobile-login-btn');
        const mobileProfileBtn = document.getElementById('mobile-profile-btn');
        const footerUserSection = document.getElementById('footer-user-section');
        const userAvatar = document.getElementById('user-avatar');
        const userName = document.getElementById('user-name');
        const userEmail = document.getElementById('user-email');

        // Function to get user initials for avatar
        function getUserInitials(name, email) {
            if (name && name.trim()) {
                const nameParts = name.trim().split(' ');
                if (nameParts.length >= 2) {
                    return (nameParts[0][0] + nameParts[1][0]).toUpperCase();
                }
                return nameParts[0][0].toUpperCase();
            } else if (email) {
                return email[0].toUpperCase();
            }
            return 'U';
        }

        // Function to update UI based on authentication state
        async function updateUIForAuthState(isLoggedIn, user = null) {
            if (isLoggedIn && user) {
                // User is logged in - show profile button and footer user section, hide login
                loginBtn.classList.add('hidden');
                profileBtn.classList.remove('hidden');
                mobileLoginBtn.classList.add('hidden');
                mobileProfileBtn.classList.remove('hidden');
                footerUserSection.classList.remove('hidden');

                // Update user info in footer
                const displayName = user.user_metadata?.full_name || user.user_metadata?.name || 'User';
                const displayEmail = user.email || 'No email';

                userAvatar.textContent = getUserInitials(displayName, displayEmail);
                userName.textContent = displayName;
                userEmail.textContent = displayEmail;

            } else {
                // User is logged out - show login button, hide profile and footer user section
                loginBtn.classList.remove('hidden');
                profileBtn.classList.add('hidden');
                mobileLoginBtn.classList.remove('hidden');
                mobileProfileBtn.classList.add('hidden');
                footerUserSection.classList.add('hidden');
            }
        }

        // Function to handle logout
        async function handleLogout() {
            try {
                const { error } = await _supabase.auth.signOut();
                if (error) {
                    console.error('Error logging out:', error);
                    alert('Error logging out. Please try again.');
                } else {
                    updateUIForAuthState(false);
                    // Optionally redirect to home page or login page
                    window.location.reload();
                }
            } catch (error) {
                console.error('Unexpected error during logout:', error);
                alert('Unexpected error occurred. Please try again.');
            }
        }

        // Add event listener for logout button in footer
        logoutBtn.addEventListener('click', handleLogout);

        // Check authentication state on page load
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                const { data: { session } } = await _supabase.auth.getSession();
                updateUIForAuthState(!!session, session?.user);
            } catch (error) {
                console.error('Error checking session:', error);
                // Default to logged out state if there's an error
                updateUIForAuthState(false);
            }
        });

        // Listen for auth state changes
        _supabase.auth.onAuthStateChange((event, session) => {
            updateUIForAuthState(!!session, session?.user);
        });



        // --- Sticky Header on Scroll ---
        const header = document.querySelector('.header');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) { // Activates after scrolling 50 pixels
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });


        // --- Mobile Menu Toggle ---
        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        menuBtn.addEventListener('click', () => {
            menuBtn.classList.toggle('open');
            mobileMenu.classList.toggle('hidden');
        });

        // Close mobile menu when clicking on links
        document.querySelectorAll('.mobile-link').forEach(link => {
            link.addEventListener('click', () => {
                menuBtn.classList.remove('open');
                mobileMenu.classList.add('hidden');
            });
        });

        // --- Interactive Hero Background ---
        const canvas = document.getElementById('hero-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = document.getElementById('hero').offsetHeight;

        let particlesArray;
        const mouse = { x: null, y: null, radius: (canvas.height / 120) * (canvas.width / 120) };
        window.addEventListener('mousemove', event => { mouse.x = event.x; mouse.y = event.y; });

        class Particle {
            constructor(x, y, directionX, directionY, size, color) {
                this.x = x;
                this.y = y;
                this.directionX = directionX;
                this.directionY = directionY;
                this.size = size;
                this.color = color;
            }
            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2, false);
                ctx.fillStyle = this.color;
                ctx.fill();
            }
            update() {
                if (this.x > canvas.width || this.x < 0) { this.directionX = -this.directionX; }
                if (this.y > canvas.height || this.y < 0) { this.directionY = -this.directionY; }
                let dx = mouse.x - this.x;
                let dy = mouse.y - this.y;
                let distance = Math.sqrt(dx * dx + dy * dy);
                if (distance < mouse.radius + this.size) {
                    if (mouse.x < this.x && this.x < canvas.width - this.size * 10) { this.x += 5; }
                    if (mouse.x > this.x && this.x > this.size * 10) { this.x -= 5; }
                    if (mouse.y < this.y && this.y < canvas.height - this.size * 10) { this.y += 5; }
                    if (mouse.y > this.y && this.y > this.size * 10) { this.y -= 5; }
                }
                this.x += this.directionX;
                this.y += this.directionY;
                this.draw();
            }
        }

        function init() {
            particlesArray = [];
            let numberOfParticles = (canvas.height * canvas.width) / 9000;
            for (let i = 0; i < numberOfParticles; i++) {
                let size = (Math.random() * 2) + 1;
                let x = (Math.random() * ((innerWidth - size * 2) - (size * 2)) + size * 2);
                let y = (Math.random() * ((innerHeight - size * 2) - (size * 2)) + size * 2);
                let directionX = (Math.random() * 0.4) - 0.2;
                let directionY = (Math.random() * 0.4) - 0.2;
                let color = 'rgba(59, 130, 246, 0.5)';
                if (Math.random() > 0.5) { color = 'rgba(236, 72, 153, 0.5)'; }
                particlesArray.push(new Particle(x, y, directionX, directionY, size, color));
            }
        }

        function animate() {
            requestAnimationFrame(animate);
            ctx.clearRect(0, 0, innerWidth, innerHeight);
            for (let i = 0; i < particlesArray.length; i++) {
                particlesArray[i].update();
            }
        }

        window.addEventListener('resize', () => {
            canvas.width = innerWidth;
            canvas.height = document.getElementById('hero').offsetHeight;
            mouse.radius = (canvas.height / 120) * (canvas.width / 120);
            init();
        });

        window.addEventListener('mouseout', () => {
            mouse.x = undefined;
            mouse.y = undefined;
        });

        init();
        animate();

        // --- Scroll Animations ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.2 });

        const fadeElements = document.querySelectorAll('.fade-in');
        fadeElements.forEach(el => observer.observe(el));
        /**
 * Converts ISO date string to a human-readable format.
 */
        function formatEventDate(isoString) {
            const date = new Date(isoString);
            return date.toLocaleString('en-US', {
                year: 'numeric',
                month: 'short',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
        }

        function createEventCard(event) {
            const isPast = new Date(event.date) < new Date();
            const tagText = isPast ? 'Past Event' : 'Upcoming';
            const btnText = isPast ? 'View Details' : 'Register Now';

            return `
        <div class="event-card fade-in">
            <div class="event-media">
                <img src="${event.media_url || 'https://placehold.co/400x200/3b82f6/ffffff?text=Event'}" 
                    alt="${event.title}" onerror="this.onerror=null;this.src='https://placehold.co/400x200/3b82f6/ffffff?text=Event'">
            </div>
            <div class="event-content">
                <span class="program-tag" style="background-color: ${isPast ? '#f3f4f6' : '#dbeafe'}; color: ${isPast ? '#6b7280' : '#3b82f6'};">
                    ${tagText}
                </span>
                <span class="event-date">${formatEventDate(event.date)} | ${event.location || 'Online'}</span>
                <h3>${event.title}</h3>
                <p>${event.description}</p>
                <a href="${event.join_link || '#contact'}" 
                   class="btn btn-primary event-join-btn" 
                   style="background: ${isPast ? '#6b7280' : 'linear-gradient(90deg, var(--color-primary), var(--color-secondary))'};" 
                   target="_blank">
                    ${btnText}
                </a>
            </div>
        </div>
    `;
        }
        /**
         * Fetches events from Supabase and renders them to the page.
         */
        async function fetchAndRenderEvents() {
            const container = document.getElementById('events-grid');
            if (!container) return;

            // Fetch data from Supabase
            const { data: events, error } = await _supabase
                .from('events')
                .select('*')
                .order('date', { ascending: true });

            if (error) {
                console.error('Supabase Error fetching events for index page:', error);
                container.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; color: #ef4444; padding: 2rem;">Error loading events. Please check RLS policies.</div>';
                return;
            }

            if (events.length === 0) {
                container.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; color: #6b7280; padding: 2rem;">Stay tuned! New events will be announced soon.</div>';

                // Hide buttons if there are no events
                if (scrollLeftBtn) scrollLeftBtn.classList.add('hidden');
                if (scrollRightBtn) scrollRightBtn.classList.add('hidden');
                return;
            }

            // Set the CSS variable for total event count (Crucial for the Grid layout)
            scrollGrid.style.setProperty('--total-events', events.length);

            // Generate HTML for all events
            container.innerHTML = events.map(createEventCard).join('');

            // Re-initialize scroll observer for the newly created elements (Fade-in effect)
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.2 });

            document.querySelectorAll('.event-card').forEach(el => observer.observe(el));

            // Initial button state check
            updateScrollButtons();
        }
        // FINAL STEP: Execute the loading function when the page script block finishes loading.
        fetchAndRenderEvents();
    </script>
</body>

</html>